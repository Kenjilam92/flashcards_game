(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t,a){e.exports=a(53)},25:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(18),r=a.n(c),o=(a(25),a(1)),s=a(4),m=a(3),i=a.n(m),d=(a(49),a(50),a(52),function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),d=m[0],u=m[1];Object(n.useEffect)((function(){console.log("fetch edit form"),r(e.selected.front),u(e.selected.back)}),[e.selected]);return l.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var a={front:c,back:d};i.a.put("http://localhost:8000/api/cards/update/".concat(e.selected._id),a).then((function(t){r(""),u(""),e.refreshForm(t.data._id),e.refresh()})).catch((function(e){return console.log(e)}))}(t)},id:e.id},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("label",{htmlFor:"front"},"Front:"),l.a.createElement("textarea",{name:"front",style:{width:"100%"},rows:"5",value:c,onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{className:"col-6"},l.a.createElement("label",{htmlFor:"back"},"Back:"),l.a.createElement("textarea",{name:"back",style:{width:"100%"},rows:"5",value:d,onChange:function(e){return u(e.target.value)}}))),l.a.createElement("div",{className:"row"}))}),u=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(""),m=Object(o.a)(s,2),d=m[0],u=m[1],b=Object(n.useState)({}),E=Object(o.a)(b,2),f=E[0],p=E[1];return l.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault();var a={front:c,back:d};console.log(a),i.a.post("http://localhost:8000/api/cards/new",a).then((function(t){t.data.errors?p(t.data.errors):e.refresh(),r(""),u("")})).catch((function(e){return console.log(e.data)}))}(t)}},l.a.createElement("label",{htmlFor:"front"},"Front:"),l.a.createElement("textarea",{name:"front",style:{width:"100%"},rows:"5",value:c,placeholder:f.front?f.front.properties.message:null,onChange:function(e){return r(e.target.value)}}),l.a.createElement("label",{htmlFor:"back"},"Back:"),l.a.createElement("textarea",{name:"back",style:{width:"100%"},rows:"5",value:d,placeholder:f.back?f.back.properties.message:null,onChange:function(e){return u(e.target.value)}}),l.a.createElement("button",{className:"btn btn-info",type:"submit"},"Add Card"))},b=function(e){var t=e.list,a=function(e){console.log(e.target.parentNode),e.target.parentNode.classList.contains("flipped")?e.target.parentNode.classList.remove("flipped"):e.target.parentNode.classList.add("flipped")};return"table"===e.displayType?l.a.createElement("table",{className:"col table table-bordered table-hover"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"#"),l.a.createElement("th",{scope:"col"},"Front"),l.a.createElement("th",{scope:"col"},"Back"),l.a.createElement("th",{scope:"col"},"Actions"))),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,a+1),l.a.createElement("td",null,t.front),l.a.createElement("td",null,t.back),l.a.createElement("td",null,l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",{className:"btn-sm btn-success","data-toggle":"modal","data-target":"#editFormPopUp",onClick:function(a){return e.edit(t._id)}},"Edit"),l.a.createElement("button",{className:"btn-sm btn-danger",onClick:function(a){return function(t){console.log(t),i.a.delete("http://localhost:8000/api/cards/delete/".concat(t)).then((function(t){console.log(t.data),e.refresh()}))}(t._id)}},"Delete"))))})))):l.a.createElement("div",{className:"d-grid grid-".concat(e.columns)},t.map((function(t,n){return l.a.createElement("div",{className:"flip-card",key:n,onClick:a},l.a.createElement("div",{className:"flip-card-inner font-".concat(e.fontsize)},l.a.createElement("div",{className:"flip-card-front"},e.reverse?t.back:t.front),l.a.createElement("div",{className:"flip-card-back"},e.reverse?t.front:t.back)))})))},E=function(e){return l.a.createElement("div",{className:"modal fade",id:e.id,tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"}," ",e.title),l.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),l.a.createElement("div",{className:"modal-body"},e.children),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),l.a.createElement("button",{type:"submit",form:e.form_id,className:"btn btn-success"},"Save changes")))))},f=a(6),p=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],r=a[1],m=Object(n.useState)(0),i=Object(o.a)(m,2),d=i[0],u=i[1],b=Object(n.useState)(0),E=Object(o.a)(b,2),p=E[0],h=E[1],v=Object(n.useState)(0),g=Object(o.a)(v,2),N=g[0],j=g[1],y=Object(n.useState)({}),O=Object(o.a)(y,2),k=O[0],w=O[1],S=Object(n.useState)(!0),C=Object(o.a)(S,2),x=C[0],F=C[1],_=Math.floor(100*(1-p/N)),L=function(){if(e.list!==[]){var t=Math.floor(Math.random()*e.list.length);r(e.list[t]),j(N+1)}else Object(s.b)("/")};Object(n.useEffect)((function(){e.list?L():Object(s.b)("/"),j(0),u(0),h(0),w({})}),[e.list]);return l.a.createElement("div",null,l.a.createElement("h2",null,"Random Game"),l.a.createElement("div",{className:"row"},void 0!==c?l.a.createElement("div",{className:"flip-card col-md-6 ",style:{height:"300px"},onClick:function(e){console.log(e.target.parentNode),e.target.parentNode.classList.contains("flipped")?e.target.parentNode.classList.remove("flipped"):e.target.parentNode.classList.add("flipped")}},l.a.createElement("div",{className:"flip-card-inner font-".concat(e.fontsize)},l.a.createElement("div",{className:"flip-card-front"},e.reverse?c.back:c.front),l.a.createElement("div",{className:"flip-card-back"},e.reverse?c.front:c.back))):"fail",l.a.createElement("div",{className:"col-md-5"},l.a.createElement("p",null,"Do you remember?"),l.a.createElement("button",{className:"btn btn-success col-6",onClick:function(){var e=Object(f.a)({},c);k[e._id]?(e.played=k[e._id].played+1,e.unsuccess=k[e._id].unsuccess):(e.played=1,e.unsuccess=0),k[e._id]=e,L(),h(p+1),u(d+1)}},"Yes"),l.a.createElement("button",{className:"btn btn-danger col-6",onClick:function(){var e=Object(f.a)({},c);k[e._id]?(console.log(k[e._id]),e.played=k[e._id].played+1,e.unsuccess=k[e._id].unsuccess+1):(e.played=1,e.unsuccess=1),k[e._id]=e,console.log(k[e._id]),L(),u(0)}},"No"),l.a.createElement("table",{className:"mt-2 mb-2 table-sm"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,"You played:"),l.a.createElement("td",null,l.a.createElement("b",null,N," ",N>1?"cards":"card"))),l.a.createElement("tr",null,l.a.createElement("th",null,"Answer Streak:"),l.a.createElement("td",null,l.a.createElement("b",{className:"text-primary"},d))),l.a.createElement("tr",null,l.a.createElement("th",null,"Correct: "),l.a.createElement("td",null,l.a.createElement("b",{className:"text-success"},p," "))),l.a.createElement("tr",null,l.a.createElement("th",null,"Unsuccessful rate: "),l.a.createElement("td",null,l.a.createElement("b",{className:"text-danger"},N?_+"%":0))))),l.a.createElement("button",{className:"btn btn-secondary",onClick:function(){F(!x)}},x?"Show Report":"Hide Report"))),l.a.createElement("div",{className:"row",hidden:x},l.a.createElement("table",{className:"table table-bordered"},l.a.createElement("thead",{className:"thead-light"},l.a.createElement("tr",null,l.a.createElement("th",null,"#"),l.a.createElement("th",null,"Front"),l.a.createElement("th",null,"Back"),l.a.createElement("th",null,"Played"),l.a.createElement("th",null,"Unsuccessful Rate"))),l.a.createElement("tbody",null,Object.values(k).map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",null,e.front),l.a.createElement("td",null,e.back),l.a.createElement("td",null,e.played),l.a.createElement("td",null,Math.floor(e.unsuccess/e.played*100)+"%"))}))))))};var h=function(){var e=Object(n.useState)("table"),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)([]),m=Object(o.a)(r,2),f=m[0],h=m[1],v=Object(n.useState)(""),g=Object(o.a)(v,2),N=g[0],j=g[1],y=Object(n.useState)(3),O=Object(o.a)(y,2),k=O[0],w=O[1],S=Object(n.useState)({}),C=Object(o.a)(S,2),x=C[0],F=C[1],_=Object(n.useState)(!1),L=Object(o.a)(_,2),M=L[0],R=L[1],B=Object(n.useState)("random"),z=Object(o.a)(B,2),A=z[0],D=z[1],P=function(){i.a.get("http://localhost:8000/api/cards/").then((function(e){return h(e.data)})).catch((function(e){return console.log(e.data)}))},U=function(e){console.log(e),i.a.get("http://localhost:8000/api/cards/".concat(e)).then((function(e){F(e.data)})).catch((function(e){return console.log(e)}))};return Object(n.useEffect)((function(){P()}),[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"jumbotron "},l.a.createElement("h1",null,"Welcome to the flashcards game"),l.a.createElement("i",null," 20 cards per day, never fade away"),l.a.createElement(E,{id:"editFormPopUp",form_id:"editFrom",title:"Editing a card"},l.a.createElement(d,{id:"editFrom",selected:x,refresh:P,refreshForm:U}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2 col-md- border border-secondary "},l.a.createElement("b",{className:"row p-2 mb-2 bg-info text-white"},"Setting"),l.a.createElement("div",{className:"d-flex justify-content-between align-items-baseline"},l.a.createElement("p",null,"Font:"),l.a.createElement("select",{name:"font-size",onChange:function(e){return j(e.target.value)},value:N},l.a.createElement("option",{value:""},"Small"),l.a.createElement("option",{value:"med"},"Medium"),l.a.createElement("option",{value:"large"},"Large"))),l.a.createElement("div",{className:"d-flex justify-content-between align-items-baseline"},l.a.createElement("p",null,"Columns:"),l.a.createElement("select",{name:"columns",onChange:function(e){return w(e.target.value)},value:k},l.a.createElement("option",{value:2},"2"),l.a.createElement("option",{value:3},"3"),l.a.createElement("option",{value:4},"4"),l.a.createElement("option",{value:5},"5"))),l.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},l.a.createElement("p",null,"Reverse:"),l.a.createElement("label",{className:"switch"},l.a.createElement("input",{type:"checkbox",checked:M,onChange:function(e){return function(e){console.log("reverse:",M),R(e)}(e.target.checked)}}),l.a.createElement("span",{className:"slider round"}))),l.a.createElement("div",{className:"d-flex flex-column"},l.a.createElement("label",{htmlFor:"games"},"Select game:"),l.a.createElement("select",{name:"games",id:"games",className:"mb-3 form-control",value:A,onChange:function(e){return D(e.target.value)}},l.a.createElement("option",{value:"random"},"Random"),l.a.createElement("option",{value:"random20"},"Random20"),l.a.createElement("option",{value:"random50"},"Random50")))),l.a.createElement("div",{className:"col-lg-7 col-md- mb-3"},l.a.createElement("nav",{style:{margin:"10px"}},l.a.createElement("button",{className:"btn btn-info",onClick:function(e){return c("table")}},"Table"),l.a.createElement("button",{className:"btn btn-info",onClick:function(e){return c("cards")}},"Cards"),l.a.createElement("button",{className:"btn btn-success",onClick:function(e){return Object(s.b)("/game/".concat(A))}},"Play"),l.a.createElement("button",{className:"btn btn-danger",onClick:function(e){return Object(s.b)("/")}},"Quit")),l.a.createElement(s.a,null,l.a.createElement(b,{path:"/",displayType:a,list:f,fontsize:N,reverse:M,columns:k,refresh:P,edit:U}),l.a.createElement(p,{path:"/game/random",list:f,fontsize:N,reverse:M}))),l.a.createElement("div",{className:"col-lg-3 col-md- border border-secondary"},l.a.createElement("b",{className:"row p-2 mb-2 bg-info text-white"},"Add a card"),l.a.createElement(u,{refresh:P}),l.a.createElement("b",{className:"row p-2 mb-2 mt-2 bg-info text-white"},"Comments"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.4db9635d.chunk.js.map